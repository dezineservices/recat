/*! recat 2016-02-16 00:22:21 */
!function(){"use strict";function a(){}angular.module("recatActivity",[]).run(a),a.$inject=[]}(),function(){"use strict";function a(a,b){function c(a,b){return d(a,b)}function d(b,c){var d={};b&&(d.page=parseInt(b,10)),c&&(d.tid=c);var g=a({url:Drupal.settings.recatActivity.serviceUrl,method:"GET",cache:!0,params:d});return g.then(e,f)}function e(a){return 200!==a.status?b.reject(a.statusText):a.data.success?a.data:b.reject(a.data.message)}function f(a){return angular.isObject(a.data)?b.reject(a.statusText):b.reject("An error occurred")}return{getActivities:c}}angular.module("recatActivity").service("core.service.library",a),a.$inject=["$http","$q"]}(),function(){"use strict";function a(a){function b(){k.currentPage-=1,f()}function c(){k.currentPage+=1,f()}function d(a){k.currentPage=parseInt(a,10)-1,f()}function e(a){document.location=a.url}function f(){k.loading=!0,a.getActivities(k.currentPage,l).then(h,i)}function g(){var a=[],b=Math.ceil(j/2),c=k.currentPage+1,d=c-b+1,e=c+j-b,f=k.totalPages,g=d;for(e>f&&(g+=f-e,e=f),0>=g&&(e+=1-g,g=1),g>1&&a.push("ellipsis");e>=g&&f>=g;g+=1)a.push(g);return f>g&&a.push("ellipsis"),a}function h(a){k.loaded=!0,k.loading=!1,k.nodes=a.nodes,k.currentPage=a.pager.current,k.totalPages=a.pager.pages,k.pages=g()}function i(a){k.loaded=!0,k.loading=!1,k.nodes=k.pages=[],k.currentPage=k.totalPages=0,k.errorMessage=a.text}var j=9,k=this,l=null;k.loaded=!1,k.loading=!0,k.currentPage=0,k.totalPages=0,k.pages=[],k.nodes=[],k.errorMessage="",k.pagePrevious=b,k.pageNext=c,k.pageChange=d,k.goToPage=e,Drupal.settings.recatActivity.tid&&(l=Drupal.settings.recatActivity.tid),f()}angular.module("recatActivity").controller("ListingController",a),a.$inject=["core.service.library"]}();