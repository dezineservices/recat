/*! recat 00:nn:27 16-10-2015 */
!function(){"use strict";function a(){}angular.module("recatLibrary",[]).run(a),a.$inject=[]}(),function(){"use strict";function a(a,b){function c(a,b){return d(a,b)}function d(b,c){var d={};b&&(d.page=parseInt(b,10)),c.length&&(d.tid=c.join(","));var g=a({url:Drupal.settings.recatLibrary.serviceUrl,method:"GET",cache:!0,params:d});return g.then(e,f)}function e(a){return 200!==a.status?b.reject(a.statusText):a.data}function f(a){return angular.isObject(a.data)?b.reject(a.statusText):b.reject("An error occurred")}return{getFiles:c}}angular.module("recatLibrary").service("core.service.library",a),a.$inject=["$http","$q"]}(),function(){"use strict";function a(a,b){function c(){n.currentPage-=1,h()}function d(){n.currentPage+=1,h()}function e(a){n.currentPage=parseInt(a,10)-1,h()}function f(a,b){var c=!!a.target.checked;c?o.push(b):o=j(b),h()}function g(a){a&&(document.location=a)}function h(){n.loading=!0,b.getFiles(n.currentPage,o).then(k,l)}function i(){var a=[],b=Math.ceil(m/2),c=n.currentPage+1,d=c-b+1,e=c+m-b,f=n.totalPages,g=d;for(e>f&&(g+=f-e,e=f),0>=g&&(e+=1-g,g=1),g>1&&a.push("ellipsis");e>=g&&f>=g;g+=1)a.push(g);return f>g&&a.push("ellipsis"),a}function j(a){for(var b=[],c=0,d=o.length;d>c;c+=1)a!==o[c]&&b.push(o[c]);return b}function k(a){n.loaded=!0,n.loading=!1,n.nodes=a.nodes,n.currentPage=a.pager.current,n.totalPages=a.pager.pages,n.pages=i()}function l(a){n.loaded=!0,n.loading=!1,console.log(a)}var m=9,n=this,o=[];n.loaded=!1,n.loading=!0,n.currentPage=0,n.totalPages=0,n.pages=[],n.nodes=[],n.pagePrevious=c,n.pageNext=d,n.pageChange=e,n.filterChange=f,n.downloadFile=g,h()}angular.module("recatLibrary").controller("ListingController",a),a.$inject=["$scope","core.service.library"]}();