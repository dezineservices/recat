/*! recat 22:nn:00 13-10-2015 */
!function(){"use strict";function a(){}angular.module("recatLibrary",[]).run(a),a.$inject=[]}(),function(){"use strict";function a(a,b){function c(a){return d(a)}function d(b){var c={};b&&(c.page=parseInt(b,10));var d=a({url:Drupal.settings.recatLibrary.serviceUrl,method:"GET",cache:!0,params:c});return d.then(e,f)}function e(a){return 200!==a.status?b.reject(a.statusText):a.data}function f(a){return angular.isObject(a.data)?b.reject(a.statusText):b.reject("An error occurred")}return{getFiles:c}}angular.module("recatLibrary").service("core.service.library",a),a.$inject=["$http","$q"]}(),function(){"use strict";function a(a,b){function c(){k.currentPage-=1,f()}function d(){k.currentPage+=1,f()}function e(a){k.currentPage=parseInt(a,10),f()}function f(){b.getFiles(k.currentPage).then(h,i)}function g(){var a=[],b=Math.ceil(j/2),c=k.currentPage-b+1,d=k.currentPage+j-b,e=k.totalPages,f=c;for(d>e&&(f+=e-d,d=e),0>=f&&(d+=1-f,f=1);d>=f&&e>=f;f+=1)a.push(f);return e>f&&a.push("ellipsis"),a}function h(a){k.nodes=a.nodes,k.currentPage=a.pager.current,k.totalPages=a.pager.pages,k.pages=g()}function i(a){console.log(a)}var j=2,k=this;k.currentPage=0,k.totalPages=0,k.pages=[],k.nodes=[],k.pagePrevious=c,k.pageNext=d,k.pageChange=e,f()}angular.module("recatLibrary").controller("ListingController",a),a.$inject=["$scope","core.service.library"]}();